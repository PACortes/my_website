---
title: "Grafico de dispersión"
date: '2020-12-01T21:13:14-05:00'
categories: R
tags:
- Visualización
- ggplot
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
```

Los gráficos de dispersión (*scatterplot* en inglés) se utilizan para observar asociación entre dos variablesnuméricas diferentes. 

La posición de cada punto en el eje horizontal y vertical indica valores para una misma unidad experimental.

## Cargando la librería
Para comenzar, carguemos la libreía ggplot2 usando la función `library()`.

```{r }
library(ggplot2)
```

# Sintáxis 

La sintáxis básica de ggplot2 para generar un gráfico de dipersión es:

`ggplot(data=, mapping=aes(x=,y=))+ geom_point()`

En donde:

You first pass the dataset mtcars to ggplot.

*`data`: es la base de datos.

* `aes()`: especifica las variables en los ejes x e y.

* `+`: Da aviso a R para que suga leyendo el código, ya que se agregará una nueva capa.

* `geom_point()`: Especifica que queremos generar un gráfico de dispersión.


# Visualización 
Ahora, generemos un gráfico de dispersión con las variables * *Petal.Length* y * *Petal.Width* de la base de datos `iris`.

```{r}
ggplot(data=iris, mapping =aes(x=Petal.Length, y =Petal.Width))+geom_point()
```
## Título y etiquetas
Ajustemos el título del gráfico las etiquetas de los ejes con la función `labs()`:

```{r}

ggplot(data = iris, mapping=aes(x=Petal.Length , y =Petal.Width))+
  geom_point()+
  xlim(c(0, 8))+
  ylim(c(0, 3))+
  labs(title="Largo vs Ancho del Pétalo", 
       x="Largo de Pétalo (cms)",
       y="Ancho de Pétalo (cms)")
```
## Título y etiquetas: tamañao de fuente 

Ahora, aumentemos el tamaños de las fuentes de títulos (y su color) y etiquetas con a función `theme()`, la cuál nos permite controlar aspectos como fuentes, marcas, fondos, entre muchos otros.

`theme()` incluye dos componentes principales:

* **Elementos del tema**: especifica los elementos que queremos controlar.Por ejemplo, `plot.title` controla la apariencia del título. 

* **Función del tema**`+`: describe la propiedad visual del elemento que queremos controlar.Por ejemplo, `element_text()` establece el tamaño de fuente, el color, entre otros. 

```{r}
ggplot(data = iris, mapping=aes(x=Petal.Length , y =Petal.Width))+
  geom_point()+
  xlim(c(0, 8))+
  ylim(c(0, 3))+
  labs(title="Largo vs Ancho del Pétalo", 
       y="Ancho (cms)", x="Largo (cms)")+
  theme(axis.text =element_text(size=16),
        axis.title=element_text(size=23),
        plot.title=element_text(size=25,colour="darkblue"))
```


Ajustemos el tamaño y color de los puntos
```{r}
ggplot(data = iris, mapping=aes(x=Petal.Length , y =Petal.Width))+
  geom_point(col="steelblue", size=2.5)+
  xlim(c(0, 8))+
  ylim(c(0, 3))+
  labs(title="Largo vs Ancho del Pétalo", 
       y="Ancho (cms)", x="Largo (cms)")+
  theme(axis.text =element_text(size=16),
        axis.title=element_text(size=23),
        plot.title=element_text(size=25),
        plot.subtitle=element_text(size=20))
```


Ajustemos el color de los puntos de acuerdo a categorías en otra variable

```{r}
ggplot(data = iris, mapping=aes(x=Petal.Length , y =Petal.Width))+
  geom_point(aes(col=Species), size=2.5)+
  xlim(c(0, 8))+
  ylim(c(0, 3))+
  labs(title="Largo vs Ancho del Pétalo", 
       y="Ancho (cms)", x="Largo (cms)")+
  theme(axis.text =element_text(size=16),
        axis.title=element_text(size=23),
        plot.title=element_text(size=25),
        plot.subtitle=element_text(size=20))
```

Ajustemos manualmente color de los puntos de acuerdo a categorías en otra variable

```{r}
ggplot(data = iris, mapping=aes(x=Petal.Length , y =Petal.Width))+
  geom_point(aes(col=Species), size=2.5)+
  scale_colour_manual(values=c("#BC3C29FF", "#0072B5FF","#E18727FF"))+
  xlim(c(0, 8))+
  ylim(c(0, 3))+
  labs(title="Largo vs Ancho del Pétalo", 
       y="Ancho (cms)", x="Largo (cms)")+
  theme(axis.text =element_text(size=16),
        axis.title=element_text(size=23),
        plot.title=element_text(size=25),
        plot.subtitle=element_text(size=20))
```



Ajustemos manualmente color de los puntos de acuerdo a categorías en otra variable

```{r}
ggplot(data = iris, mapping=aes(x=Petal.Length , y =Petal.Width))+
  geom_point(aes(col=Species), size=2.5)+
  scale_colour_manual(values=c("#BC3C29FF", "#0072B5FF","#E18727FF"))+
  xlim(c(0, 8))+
  ylim(c(0, 3))+
  labs(title="Mi primer gráfico en R", 
       y="Ancho (cms)", x="Largo (cms)")+
  theme(axis.text =element_text(size=16),
        axis.title=element_text(size=23),
        plot.title=element_text(size=25),
        legend.position = c(0.13, 0.85),
        legend.box.background = element_rect(fill = "transparent", colour = "#333333",size=1.2),
        legend.title = element_text(size = 15),
        legend.text = element_text(size = 12))
```


Finalmente

```{r}
ggplot(data = iris, mapping=aes(x=Petal.Length , y =Petal.Width))+
  geom_point(aes(col=Species), size=2.5)+
  scale_colour_manual(values=c("#BC3C29FF", "#0072B5FF","#E18727FF"))+
  xlim(c(0, 8))+
  ylim(c(0, 3))+
  labs(title="Largo vs Ancho del Petalo",
       y="Ancho (cms)", x="Largo (cms)")+
  theme(axis.text =element_text(size=16),
        axis.title=element_text(size=23),
        plot.title=element_text(size=25),
        legend.position = c(0.13, 0.85),
        legend.box.background = element_rect(fill = "transparent", colour = "#333333",size=1.2),
        axis.line = element_line(color = "#333333",size = 1, linetype = "solid"))
```



